
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Jaequery</title>
	<meta name="author" content="jaequery">

	
	<meta name="description" content="Emacs out of the box doesn’t have a great php/html/js editor. So here are what you need to get it good. First, let’s create the elisp folder that &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Jaequery" type="application/atom+xml">
	
	<link rel="canonical" href="http://jaequery.github.com/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

	

</head>

<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<img src="https://twimg0-a.akamaihd.net/profile_images/1553518100/276361_588421810_1000318656_n.jpg" alt="Profile Picture" style="width: 160px;">
</div>
<h1><a href="/">Jaequery</a></h1>
<p class="subtitle">The untold adventures of a 13+ years PHP developer making the jump from PHP to Ruby.</p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/jaequery" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/jaequery" title="GitHub">GitHub</a>
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>


</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/jaequery">jaequery</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('jaequery', 4, false);
	})(jQuery);
</script>

			
			<div class="mid-col-container">
				<div id="content" class="inner">


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-02-04T11:53:00-08:00" pubdate data-updated="true">Feb 4<span>th</span>, 2013</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title"><a href="/blog/2013/02/04/ultimate-emacs-elisp-for-web-development/">Ultimate Emacs Elisp for Web Development</a></h1>
	<div class="entry-content">
		<p>Emacs out of the box doesn’t have a great php/html/js editor. So here are what you need to get it good.</p>

<ol>
<li><p>First, let’s create the elisp folder that stores all your elisps:</p>

<p>mkdir ~/elisp cd ~/elsip</p></li>
<li><p>Now download “php-mode”</p>

<p>wget http://php-mode.svn.sourceforge.net/svnroot/php-mode/tags/php-mode-1.5.0/php-mode.el</p></li>
<li><p>Now download “multi-web-mode” for html/js/css</p>

<p>wget https://raw.github.com/fgallina/multi-web-mode/master/multi-web-mode.el</p></li>
<li><p>Now add/update this line to your ~/.emacs file</p>

<p>(add-to-list ‘load-path “~/elisp”)
(require ‘php-mode)
(require ‘multi-web-mode)
(setq mweb-default-major-mode ‘html-mode)
(setq mweb-tags ‘((php-mode “&lt;\?php\|&lt;\? \|&lt;\?=” “\?>”)
(js-mode “”)
(css-mode “”)))
(setq mweb-filename-extensions ‘(“php” “htm” “html” “ctp” “phtml” “php4” “php5”))
(multi-web-global-mode 1)</p></li>
</ol>


		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-02-03T19:08:00-08:00" pubdate data-updated="true">Feb 3<span>rd</span>, 2013</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title"><a href="/blog/2013/02/03/ruby-is-strange-and-odd/">Ruby Is Strange and Odd</a></h1>
	<div class="entry-content">
		<h3>Day 2 of Ruby</h3>

<p>It&#8217;s strange and I am confused by all these weird syntaxes.</p>

<p>Coming from PHP, I assumed at first glance:</p>

<pre><code>   @name (ruby) is $name (php)
</code></pre>

<p>But no, because in ruby, you have several different ways of assigning a variable.</p>

<p>There are:</p>

<ul>
<li>@name (instance var)</li>
<li>@@name (class var)</li>
<li>name (method var)</li>
</ul>


<p>Not to mention, &#8220;symbols&#8221; which really threw me off guard.</p>

<p>Anyhow, here is what I found out.</p>

<ol>
<li><p>@name (instance var)
Instance vars are similar to $this->name in php.
So @name = $this->name.</p></li>
<li><p>@@name (class var)
Now this one is a bit tricky. Class vars probably won&#8217;t ring a bell to PHP developer as in PHP, class vars are like instance vars. However in Ruby, @@name is similar to static vars.
The reason why it&#8217;s that is because if you have 3-4+ instances of a class, @@name is shared by all of them. Somewhat of a singleton variable.</p></li>
<li><p>name (method var)
This is pretty straight forward. It&#8217;s a var that only lives inside a method. Good for throwaway/temporary variables, such as res, total, etc &#8230;</p></li>
<li><p>:name (symbols)
Before learning ruby, I thought this was ruby&#8217;s way of PHP&#8217;s $ sign. Every ruby code I see online had some :symbols and I thought ruby would be a walk in the park as long as I think to myself that is PHP&#8217;s equivalent of assigning variables. But no, it&#8217;s probably what threw me off the most.</p></li>
</ol>


<p>You see, :symbols aren&#8217;t something you can assign to. It&#8217;s not a variable, it&#8217;s a reference. Or, atleast that&#8217;s what other ruby devs told me on freenode. I still didn&#8217;t undersetand, so is this like a pointer reference I asked? And they said no. After about an hour of chatting back and forth, I came to conclusion from bits and pieces of evidence that :symbols are only used inside hashes as keys.</p>

<p>So in php land:</p>

<pre><code>$users = array(
    "name" =&gt; "john",
    "name" =&gt; "mark",
)

foreach($users AS $user){
    echo $user['name'];
}
</code></pre>

<p>But in ruby land, it&#8217;s:</p>

<pre><code>users = {
    :name =&gt; "john",
    :name =&gt; "mark",
}

users.each do |user|
    puts user.name
end
</code></pre>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-02-01T19:07:00-08:00" pubdate data-updated="true">Feb 1<span>st</span>, 2013</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title"><a href="/blog/2013/02/01/switching-from-php-to-ror/">Switching From PHP to RoR</a></h1>
	<div class="entry-content">
		<p>In one unlikely evening, I was bored and just felt like doing something new, I did something I probably never thought I&#8217;d do. Jump into RoR.
I say unlikely because those that knows me, knows how much of a PHP advocate I am. Afterall, I didn&#8217;t spend 10+ years on it for nothing.
I&#8217;m also not the type to stop on something until I&#8217;ve mastered it. I suddenly now have quite a challenge on my hands.</p>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-12-29T00:41:00-08:00" pubdate data-updated="true">Dec 29<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/12/29/emacs-good-movement-guide/">Emacs Good Movement Guide</a></h1>
	<div class="entry-content">
		<p>Emacs navigation key commands are one of those things every developer should take time to learn. Because once you get to know them, you&#8217;ll be using them throughout your dev lifecycle, including in terminals, editing, and pretty much everywhere if you are using a linux/*nix like macs.</p>

<p><a href="http://www.masteringemacs.org/articles/2011/01/14/effective-editing-movement/">http://www.masteringemacs.org/articles/2011/01/14/effective-editing-movement/</a></p>

<p>For vi/vim users, it may even be a new opportunity for you to take a moment to step outside and experience all the powers and wonders emacs can provide for you. :) Just try.</p>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-12-13T11:34:00-08:00" pubdate data-updated="true">Dec 13<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/12/13/xenserver-6-auto-start-vms/">Xenserver 6 Auto Start VM&#8217;s</a></h1>
	<div class="entry-content">
		<p>Citrix decided to disable auto-start VM&#8217;s for their free edition startin v6, as I found this out the hard way.</p>

<p>i guess it&#8217;s their strategy of getting you to buy their paid license, which gives you the auto-start from the GUI.</p>

<p>but for the rest of us, here is a quick simple way to do this, you need to manually start the VM&#8217;s upon bootup of the host.</p>

<p>here&#8217;s how:</p>

<p>from the host, edit /etc/rc.local, and at the end of the line, add these two:</p>

<p>sleep 20<br/>
/opt/xensource/bin/xe vm-start uuid=fbd0fdec-9f69-e47f-072a-02ff854fd890</p>

<p>where uuid is that of your VM. you can find the uuid from xencenter on VM&#8217;s general tab.</p>

<p>do this for each VMs you want auto started</p>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-11-06T10:12:00-08:00" pubdate data-updated="true">Nov 6<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/11/06/strong-iptables-firewall-script-for-cpanel-or-any/">Strong Iptables Firewall Script for Cpanel (or Any Servers)</a></h1>
	<div class="entry-content">
		<h1>!/bin/bash</h1>

<pre><code>#####################################################################

# 1) Clear old Rules
iptables -F                                                 # Delete all existing rules

# 2) Default Drop
iptables -P INPUT DROP                                            # Set default chain policies to DROP
iptables -P FORWARD DROP                                        # Set default chain policies to DROP
iptables -P OUTPUT DROP                                            # Set default chain policies to DROP

# 3) Loopback                                                     
iptables -A INPUT -i lo -j ACCEPT                                    # Allow loopback access from INPUT
iptables -A OUTPUT -o lo -j ACCEPT                                    # Allow loopback access from Output

# 4) BLACKLIST IP's
# iptables -A INPUT -s "BLOCK_THIS_IP" -j DROP                                # Block a specific ip-address
# iptables -A INPUT -s "BLOCK_THIS_IP" -j DROP                                # Block a specific ip-address
# iptables -A INPUT -s "BLOCK_THIS_IP" -j DROP                                # Block a specific ip-address
# iptables -A INPUT -s "BLOCK_THIS_IP" -j DROP                                # Block a specific ip-address

# 5) WHITELIST IP's
iptables -A INPUT -s 127.0.0.1/32 -j ACCEPT                                # Allow Anything from localhost     
iptables -A INPUT -s "ALLOW_THIS_IP"/32 -j ACCEPT                                # Allow Anything from KeyServer


# 6) ALLOWED SERVICES
iptables -A OUTPUT -o eth0 -p tcp --sport 25 -m state --state ESTABLISHED -j ACCEPT            # PORT 25   SMTP   - Allow connections to outbound
iptables -A OUTPUT -p udp -o eth0 --dport 53 -j ACCEPT                            # PORT 54   DNS    - Allow connections to outbound 
iptables -A INPUT -p tcp -m tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT            # PORT 80   httpd  - Allow connections from anywhere
iptables -A INPUT -p tcp --dport 80 -m limit --limit 25/minute --limit-burst 100 -j ACCEPT        # PORT 80   httpd  - Rate Limit from outside
iptables -A INPUT -p tcp -m tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT            # PORT 443  SSL    - Allow connections from anywhere
iptables -A INPUT -p tcp -m tcp --dport 2082 -m state --state NEW,ESTABLISHED -j ACCEPT            # PORT 2082 cPanel - Allow connections to outbound 
iptables -A INPUT -p tcp -m tcp --dport 2083 -m state --state NEW,ESTABLISHED -j ACCEPT            # PORT 2083 cPanel - Allow connections to outbound 
iptables -A INPUT -p tcp -m tcp --dport 2086 -m state --state NEW,ESTABLISHED -j ACCEPT            # PORT 2086 WHM    - Allow connections to outbound 
iptables -A INPUT -p tcp -m tcp --dport 2087 -m state --state NEW,ESTABLISHED -j ACCEPT            # PORT 2087 WHM    - Allow connections to outbound 

# 7) PING
iptables -A INPUT -p icmp -m icmp --icmp-type address-mask-request -j DROP                # Drop Ping from address-mask-request
iptables -A INPUT -p icmp -m icmp --icmp-type timestamp-request -j DROP                    # Drop Ping from timestamp-request
iptables -A INPUT -p icmp -m icmp -m limit --limit 1/second -j ACCEPT                     # Rate Limit Ping from outside 

# 8) Validate packets
iptables -A INPUT   -m state --state INVALID -j DROP                            # Drop invalid packets 
iptables -A FORWARD -m state --state INVALID -j DROP                            # Drop invalid packets 
iptables -A OUTPUT  -m state --state INVALID -j DROP                            # Drop invalid packets 
iptables -A INPUT -p tcp -m tcp --tcp-flags SYN,FIN SYN,FIN -j DROP                    # Drop TCP - SYN,FIN packets 
iptables -A INPUT -p tcp -m tcp --tcp-flags SYN,RST SYN,RST -j DROP                    # Drop TCP - SYN,RST packets 

# 9) Reject Invalid networks (Spoof)
iptables -A INPUT -s 10.0.0.0/8       -j DROP                                # (Spoofed network)
iptables -a INPUT -s 192.0.0.1/24     -j DROP                                # (Spoofed network)
iptables -A INPUT -s 169.254.0.0/16   -j DROP                                # (Spoofed network)
iptables -A INPUT -s 172.16.0.0/12    -j DROP                                # (Spoofed network)
iptables -A INPUT -s 224.0.0.0/4      -j DROP                                # (Spoofed network)
iptables -A INPUT -d 224.0.0.0/4      -j DROP                                # (Spoofed network)
iptables -A INPUT -s 240.0.0.0/5      -j DROP                                # (Spoofed network)
iptables -A INPUT -d 240.0.0.0/5      -j DROP                                # (Spoofed network)
iptables -A INPUT -s 0.0.0.0/8        -j DROP                                # (Spoofed network)
iptables -A INPUT -d 0.0.0.0/8        -j DROP                                # (Spoofed network)
iptables -A INPUT -d 239.255.255.0/24 -j DROP                                # (Spoofed network)
iptables -A INPUT -d 255.255.255.255  -j DROP                                # (Spoofed network)


# 10) CHAINS

# FTP_BRUTE CHAIN
iptables -A INPUT -p tcp -m multiport --dports 20,21 -m state --state NEW -m recent --set --name FTP_BRUTE
iptables -A INPUT -p tcp -m multiport --dports 20,21 -m state --state NEW -m recent --update --seconds 60 --hitcount 4 --rttl --name FTP_BRUTE -j DROP

# SYNFLOOD CHAIN
iptables -A INPUT -m state --state NEW -p tcp -m tcp --syn -m recent --name SYNFLOOD--set                        
iptables -A INPUT -m state --state NEW -p tcp -m tcp --syn -m recent --name SYNFLOOD --update --seconds 1 --hitcount 60 -j DROP

# Logging CHAIN
iptables -N LOGGING                                                # Create `LOGGING` chain for logging denied packets
iptables -A INPUT -j LOGGING                                            # Create `LOGGING` chain for logging denied packets     
iptables -A LOGGING -m limit --limit 2/min -j LOG --log-prefix "IPTables Packet Dropped: " --log-level 6    # Log denied packets to /var/log/messages
iptables -A LOGGING -j DROP                                            # Drop everything
</code></pre>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-11-01T15:40:49-07:00" pubdate data-updated="true">Nov 1<span>st</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/11/01/install-git-on-centos-5-6/">Install Git on Centos 5/6</a></h1>
	<div class="entry-content">
		<p>you need to disable excludes</p>

<pre><code>yum --disableexcludes=main install git
</code></pre>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-10-24T15:21:48-07:00" pubdate data-updated="true">Oct 24<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/10/24/emacs-iswitch-mode-makes-switching-between-buffers/">Emacs Iswitch-mode Makes Switching Between Buffers Easier</a></h1>
	<div class="entry-content">
		<p>i somehow came across this <a href="http://emacswiki.org/emacs/IswitchBuffers">[http://emacswiki.org/emacs/IswitchBuffers](http://emacswiki.org/emacs/IswitchBuffers)</a> and i&#8217;m thinking to myself how i didn&#8217;t know about it this whole time.</p>

<p>basically on your ~/.emacs, just put this line of code:<br/>
(iswitchb-mode 1)</p>

<p>and now create multiple buffers, either through multi-window (ctrl+x+2) or (ctrl+f … and type file name)</p>

<p>now just hit ctrl+b, it&#8217;s like mac finder, awesome. </p>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-10-08T16:00:24-07:00" pubdate data-updated="true">Oct 8<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/10/08/disable-apache-get-requests-logging/">Disable Apache GET Requests Logging</a></h1>
	<div class="entry-content">
		<p>If you are working for PCI compliance, you may have run into situations as to where you need to disable all GET request logging.</p>

<p>This is due to the fact that some merchants might accidentally submit their card processing over GET, in which, the server will be logging all card numbers and other valuable information in clear text.</p>

<p>So to do that:</p>

<p>SetEnvIf Request_Method &#8220;GET&#8221; dontlog<br/>
CustomLog &#8220;/var/log/httpd/site.com.ssl.request.log&#8221; combined env=!dontlog </p>

		
		
	</div>

</article>


    <article class="post">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-10-06T11:34:57-07:00" pubdate data-updated="true">Oct 6<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/technology/'>Technology</a>


</div>
		
	</div>
	<h1 class="title"><a href="/blog/2012/10/06/see-whats-using-up-your-server/">See Whats Using Up Your Server</a></h1>
	<div class="entry-content">
		<h5>see which connections are connected to you sorted by</h5>

<p>netstat -pant | grep :80 | awk &#8216;{ print $5}&#8217; | cut -d: -f1 | sort | uniq -c | sort -n</p>

<h5>see which process are eating up your server</h5>

<p>ps -eo pmem,pcpu,pid,user,rss,vsize,args | { head -1 ; sort -k 1 -r -n ; } | head -10</p>

		
		
	</div>

</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - jaequery
  <!-- - <span class="credit">Powered by Jesus</span>-->
</p>

</footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'jaequerycom';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






		</div>
	</div>
</body>
</html>
